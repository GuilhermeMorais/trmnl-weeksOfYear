{% assign weeks_per_row = 17 %}

<style>
  .year-weeks {
    grid-template-columns: repeat({{ weeks_per_row }}, 1fr);
  }

  .week {
    aspect-ratio: 1;
  }
</style>

<div class="layout layout--col">
  {% assign percentage = current_week | times: 100.0 | divided_by: weeks | round: 1 %}
  <div class="title">
    Week {{ current_week }}{% if percentage == 25.0 or percentage == 50.0 or percentage == 75.0 or percentage >= 80.0 %} - {{ percentage }}%{% endif %}
  </div>
  <div class="grid year-weeks row grid-wrap p--7 gap--xsmall">
    {% for week in (1..52) %}
    {% if showIcon %}
    <div class="week flex flex--row value">
      <i class="ti ti-square{% if week <= current_week %}-check-filled{% endif %}"></i>
    </div>
    {% else %}
    <div class="week flex flex--row bg--{% if week <= current_week %}black{% else %}gray-50{% endif %}"></div>
    {% endif %}
    {% endfor %}
  </div>
</div>

<div class="title_bar">
  <i class="ti ti-license"></i>
  <span class="title">Weeks of {{ year }}</span>
</div>